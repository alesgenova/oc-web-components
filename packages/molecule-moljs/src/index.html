<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Stencil Component Starter</title>
  <script src="/build/moljs-cjson.js"></script>
  <script src="http://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>

</head>
<body>
  
  <div style="width: 100%; height:40rem;">
    <oc-molecule-moljs></oc-molecule-moljs>
  </div>

  <script>
    var cjsons = [{
        "atoms" : 
        {
          "coords" : 
          {
            "3d" : 
            [
              -0.9853672723415879,
              0.9853672723415879,
              0.0,
              -1.765101316934915,
              1.765101316934915,
              0.0,
              -1.346036726076389,
              -0.3606694537348005,
              0.0,
              -2.411173239186462,
              -0.6460719222515465,
              0.0,
              -0.3606694537348005,
              -1.346036726076389,
              0.0,
              -0.6460719222515465,
              -2.411173239186462,
              0.0,
              0.9853672723415879,
              -0.9853672723415879,
              0.0,
              1.765101316934915,
              -1.765101316934915,
              0.0,
              1.346036726076389,
              0.3606694537348005,
              0.0,
              2.411173239186462,
              0.6460719222515465,
              0.0,
              0.3606694537348005,
              1.346036726076389,
              0.0,
              0.6460719222515465,
              2.411173239186462,
              0.0
            ]
          },
          "elements" : 
          {
            "number" : [ 6, 1, 6, 1, 6, 1, 6, 1, 6, 1, 6, 1 ],
            "symbol" : [ "C", "H", "C", "H", "C", "H", "C", "H", "C", "H", "C", "H" ]
          }
        },
        "bonds" : 
        {
          "connections" : 
          {
            "index" : 
            [
              0,
              1,
              0,
              2,
              0,
              10,
              2,
              3,
              2,
              4,
              4,
              5,
              4,
              6,
              6,
              7,
              6,
              8,
              8,
              9,
              8,
              10,
              10,
              11
            ]
          },
          "order" : [ 1, 1, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1 ]
        },
        "chemical json" : 0
      },
      {
        "atoms" : 
        {
          "coords" : 
          {
            "3d" : 
            [
              -0.9853672723415879,
              0.9853672723415879,
              0.0,
              -1.765101316934915,
              1.765101316934915,
              0.0,
              -1.346036726076389,
              -0.3606694537348005,
              0.0,
              -2.411173239186462,
              -0.6460719222515465,
              0.0,
              -0.3606694537348005,
              -1.346036726076389,
              0.0,
              -0.6460719222515465,
              -2.411173239186462,
              0.0,
              0.9853672723415879,
              -0.9853672723415879,
              0.0,
              1.765101316934915,
              -1.765101316934915,
              0.0,
              1.346036726076389,
              0.3606694537348005,
              0.0,
              2.411173239186462,
              0.6460719222515465,
              0.0,
              0.3606694537348005,
              1.346036726076389,
              0.0,
              0.6460719222515465,
              2.411173239186462,
              0.0
            ]
          },
          "elements" : 
          {
            "number" : [ 6, 1, 6, 1, 6, 1, 6, 1, 6, 1, 6, 1 ],
            "symbol" : [ "N", "H", "N", "H", "N", "H", "N", "H", "N", "H", "N", "H" ]
          }
        },
        "bonds" : 
        {
          "connections" : 
          {
            "index" : 
            [
              0,
              1,
              0,
              2,
              0,
              10,
              2,
              3,
              2,
              4,
              4,
              5,
              4,
              6,
              6,
              7,
              6,
              8,
              8,
              9,
              8,
              10,
              10,
              11
            ]
          },
          "order" : [ 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1 ]
        },
        "chemical json" : 0
      }
    ]
    let el = document.querySelector("oc-molecule-moljs");
    let count = 0;
    el.cjsonProp = cjsons[count%2];
    let interval = setInterval(()=>{
      count++;
      if (count%3 == 0) {
        // pass cjson as a string
        el.setAttribute("cjson-prop", JSON.stringify(cjsons[count%2]));
      } else {
        // pass cjson as an object
        el.cjsonProp = cjsons[count%2];
      }
      
      if (count >= 10) {
        clearInterval(interval);
      }
    },2000)
  </script>

</body>
</html>
